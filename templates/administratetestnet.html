{% extends "base.html" %}
{% load static %}
{% block content %}
{% if request.user.is_authenticated and request.user.user_info.status == 1 %}
<!-- Page Heading -->
<div class="d-sm-flex align-items-center justify-content-between mb-4">
    <h1 class="mb-0 text-xl font-weight-bold text-primary">Administrate Users on the App
        {% if searching %}Searching... "<code><i>{{ searching }}</i></code>"
        {% endif %}
    </h1>

</div>
<!-- Content Row Number 1-->

<form id="searchform" action="#" method="get" accept-charset="utf-8">



    <span>
        <input class="searchfield" id="searchbox" minlength=1 name="searching" type="text" placeholder="Search"
            value="{% if searching %}{{ searching }}{% endif %}">
    </span>
    <span>
        <button class="searchbutton" type="submit">
            <i class="fa fa-search"></i>
        </button>
    </span>

    <span>

        <a class=" btn btn-primary" href="{% url 'administrate_testnet' %}">Show All Reported Testnet</a>

    </span>

</form>


<span><i class="fa-sharp fa-solid fa-circle text-success"></i> Active Testnet  </span>
<span><i class="fa-sharp fa-solid fa-circle text-danger"></i> Reported Testnet  </span>

<!-- End Content Row Number 2-->
<!-- Listing of the all testnet created by user-->










{% for testnet in object_list %}



    <div class="container-fluid bg-light border-bottom-{% if testnet.status_testnet == 2  %}danger{% else %}success{% endif %} border-all-around-radius my-2">
        <div class="row my-2">
            <div class="col-lg-6 col-sm-12 col-md-6 py-3">
                <h6 class=" font-weight-bold text-primary align-left padding-20px-left">
                 
                        <p class="h5 text-secondary"><i class="fa-solid fa-user"></i>   <code>{{ testnet.testnet_name }}</code> </p>
             
                </h6>
            </div>
        <div class="col-lg-2 col-sm-12 col-md-2 py-3 ">

     
   
                <button type="button" class="btn btn-danger btn-user btn-block" data-toggle="modal"
                data-target="#DeleteTestnet{{ testnet.id }}">
                <span><i class="fa-solid fa-trash"></i></span>   Delete
                </button>
                        <div class="modal" id="DeleteTestnet{{ testnet.id }}" tabindex="-1"
                            aria-labelledby="DeleteTestnet{{ testnet.id }}" aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title h3 text-secondary"
                                            id="DeleteTestnetLabel{{ testnet.id }}">
                                            <i class="fa-sharp fa-solid fa-circle-exclamation text-warning fa-4x"></i>

                                        </h5>
                                    </div>
                                    <form method="get" action="{% url 'delete_testnet' testnet.slug %}">
                                        {% csrf_token %}
                                        <div class="modal-body">
                                            <p class="h4 font-weight-bold text-uppercase text-primary align-center">Do 
                                                you want to Delete this testnet : {{ testnet.testnet_name }} ? </p><br>
                                               
                                                
                                                <p>All the copied Testnet from this Testnet will be deleted from the app !</p><br>
                                               
                                               
                                                
                                                
                                        </div>
                                        <div class="modal-footer">
                                            <button type="submit" class="btn btn-success btn-user">
                                                YES
                                            </button>
                                            <button type="button" class="btn btn-danger btn-user" data-dismiss="modal"
                                                aria-label="Close">
                                                NO
                                            </button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>





        </div>
        <div class="col-lg-2 col-sm-12 col-md-2 py-3">
            
                
            {% if testnet.status_testnet == 2  %}


                <button type="button" class="btn btn-success btn-user btn-block" data-toggle="modal"
                data-target="#UnReportTestnet{{ testnet.id }}">
                <span><i class="fa-regular fa-copy"></i></span>   Cancel Report
                </button>
                        <div class="modal" id="UnReportTestnet{{ testnet.id }}" tabindex="-1"
                            aria-labelledby="UnReportTestnet{{ testnet.id }}" aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title h3 text-secondary"
                                            id="UnReportTestnetLabel{{ testnet.id }}">
                                            <i class="fa-sharp fa-solid fa-circle-exclamation text-warning fa-4x"></i>

                                        </h5>
                                    </div>
                                    <form method="get" action="{% url 'report_testnet' testnet.slug %}">
                                        {% csrf_token %}
                                        <div class="modal-body">
                                            <p class="h4 font-weight-bold text-uppercase text-primary align-center">Do 
                                                you want to cancel report to this following Testnet : {{ testnet.testnet_name }} ? </p>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="submit" class="btn btn-success btn-user">
                                                YES
                                            </button>
                                            <button type="button" class="btn btn-danger btn-user" data-dismiss="modal"
                                                aria-label="Close">
                                                NO
                                            </button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>



            {% else %}
            






            
                <button type="button" class="btn btn-danger btn-user btn-block" data-toggle="modal"
                data-target="#ReportTestnet{{ testnet.id }}">
                <span><i class="fa-regular fa-copy"></i></span>   Report
                </button>
                        <div class="modal" id="ReportTestnet{{ testnet.id }}" tabindex="-1"
                            aria-labelledby="ReportTestnet{{ testnet.id }}" aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title h3 text-secondary"
                                            id="ReportTestnetLabel{{ testnet.id }}">
                                            <i class="fa-sharp fa-solid fa-circle-exclamation text-warning fa-4x"></i>

                                        </h5>
                                    </div>
                                    <form method="get" action="{% url 'report_testnet' testnet.slug %}">
                                        {% csrf_token %}
                                        <div class="modal-body">
                                            <p class="h4 font-weight-bold text-uppercase text-primary align-center">Do 
                                                you want to Report this Testnet : {{ testnet.testnet_name }} ? </p>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="submit" class="btn btn-success btn-user">
                                                YES
                                            </button>
                                            <button type="button" class="btn btn-danger btn-user" data-dismiss="modal"
                                                aria-label="Close">
                                                NO
                                            </button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>




            {% endif %}




           
                
            
        </div>
        <div class="col-lg-2 col-sm-12 col-md-2 py-3">


                <a href="{% url 'showtestnet' testnet.slug %}" class=" btn btn-info btn-user btn-block">
                    <i class="fa-solid fa-eye"></i>View
                </a>
        </div>



</div>
</div>
{% empty %}
<div class="container-fluid bg-light border-all-around-radius my-2">
    <div class="row my-2">
        <div class="col-lg-12 col-sm-12 col-md-12 py-3">
            <p><i class="fa-solid fa-users-slash fa-2x"></i>There is no Testnet to show...</p>
        </div>
    </div>
</div>
{% endfor %}
{% else %}
<div class="row padding-10-pourcent-left-right">
    <div class="col-xl-12 col-md-12">
        <div class="card shadow h-100 mb-4">

            <div class="card-header py-3">
                <h6 class="m-0 font-weight-bold text-primary">You are not an Admin of the app!</h6>
            </div>
            <div class="card-body">
                <p class="h5 font-weight-bold text-dark">
                    You need to be an admin to access this content
                </p>
                <br>
                <br>
                <hr>


            </div>


        </div>
    </div>
</div>
{% endif %}
{% if searching %}
{% include "app/inc/pagination.html" with extra_url_args="searching="|add:searching %}
{% else %}
{% include "app/inc/pagination.html" %}
{% endif %}
<!-- End Listing of the all testnet created by user-->
<br>
<br>
<hr>
<br>
<br>

{%endblock%}